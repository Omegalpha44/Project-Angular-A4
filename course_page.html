<!DOCTYPE html>
<html>
<head>
  <title>[Course name] Lesson</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Reset default margin and padding */
    * {
      margin: 0;
      padding: 0;
    }
    
    /* Centered layout */
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
    
    /* Title */
    .title-page {
      font-size: 70px;
      font-family: 'Superstars';
      color: red;
      margin-bottom: 20px;
    }
    
    /* Flipcard styles */
    .centered-container {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      margin-bottom: 50px;
    }
    
    .flip-card {
        background-color: transparent;
        width: 600px;
        height: 400px;
        perspective: 1000px;
        margin: 0 auto;
        cursor: pointer;
      }

    .flip-card-inner {
      position: absolute;
      width: 100%;
      height: 100%;
      text-align: center;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }

    .flip-card.flipped .flip-card-inner {
      transform: rotateY(180deg);
    }

    .flip-card-front,
    .flip-card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border: 10px solid #AAAAAA;
    }

    .flip-card-front {
      background-color: #DDDDDD;
      color: black;
    }

    .flip-card-back {
      background-color: #777777;
      color: white;
      transform: rotateY(180deg);
    }

    /* Button styles */
    .button-container {
      display: flex;
      justify-content: center;
      align-items: center;
      //margin-bottom: 30px;
    }

    .button {
      padding: 10px 40px;
      border-radius: 5px;
      font-size: 16px;
      margin: 50px 140px;
      cursor: pointer;
    }

    .green-button {
      background-color: #2ecc71;
      color: white;
    }

    .red-button {
      background-color: #e74c3c;
      color: white;
    }

    /* Progress bar styles */
    .progress-bar {
      width: 80%;
      height: 20px;
      background-color: #f1f1f1;
      border-radius: 10px;
      margin-left: 20px;
    }

    .progress-bar-fill {
      height: 100%;
      background-color: #2ecc71;
      border-radius: 10px;
      transition: width 0.3s;
    }
  </style>
</head>
<body>
  <div class="title-page">[Course name] Lesson</div>

  <div class="centered-container">
    <div class="flip-card">
      <div class="flip-card-inner">
        <div class="flip-card-front">
          <h2>[Question]</h2>
        </div>
        <div class="flip-card-back">
          <h2>[Answer]</h2>
        </div>
      </div>
    </div>
  </div>
  
    <div class="progress-bar">
      <div class="progress-bar-fill"></div>
    </div>

  <div class="button-container">
    <button class="button red-button">Misunderstood</button>
    <button class="button green-button">Understood</button>
  </div>

  <script>
    // Flipcard data
    const flipcards = [
      { question: "Question 1", answer: "Answer 1" },
      { question: "Question 2", answer: "Answer 2" },
      { question: "Question 3", answer: "Answer 3" },
      { question: "Question 4", answer: "Answer 4" }
      // Add more flipcard objects as needed
    ];

    // Counter variables
    let currentFlipcardIndex = 0;
    let remainingFlipcards = [...flipcards];

    // Elements
    const flipCard = document.querySelector('.flip-card');
    const flipCardInner = document.querySelector('.flip-card-inner');
    const flipCardFront = document.querySelector('.flip-card-front');
    const flipCardBack = document.querySelector('.flip-card-back');
    const progressBarFill = document.querySelector('.progress-bar-fill');
    const greenButton = document.querySelector('.green-button');
    const redButton = document.querySelector('.red-button');

    // Initial setup
    updateFlipcard();
    updateProgressBar();

    // Event listeners
    flipCard.addEventListener('click', function () {
      this.classList.toggle('flipped');
    });

    greenButton.addEventListener('click', function () {
      remainingFlipcards.splice(currentFlipcardIndex, 1);
      updateProgressBar();
      if (remainingFlipcards.length > 0) {
        currentFlipcardIndex = (currentFlipcardIndex + 1) % remainingFlipcards.length;
        updateFlipcard();
      } else {
        alert("Congratulations! Youhave completed all the flipcards.");
      }
    });

    redButton.addEventListener('click', function () {
      const currentFlipcard = remainingFlipcards[currentFlipcardIndex];
      remainingFlipcards.splice(currentFlipcardIndex, 1);
      if (remainingFlipcards.length > 1) {
        let newIndex;
        do {
          newIndex = Math.floor(Math.random() * remainingFlipcards.length);
        } while (newIndex === currentFlipcardIndex);
        currentFlipcardIndex = newIndex;
      } else if (remainingFlipcards.length === 1) {
        currentFlipcardIndex = 0;
      }
      remainingFlipcards.push(currentFlipcard);
      updateProgressBar();
      updateFlipcard();
    });

    // Function to update the flipcard content
    function updateFlipcard() {
      const currentFlipcard = remainingFlipcards[currentFlipcardIndex];
      flipCardFront.innerHTML = `<h2>${currentFlipcard.question}</h2>`;
      flipCardBack.innerHTML = `<h2>${currentFlipcard.answer}</h2>`;
      flipCard.classList.remove('flipped');
    }

    // Function to update the progress bar
    function updateProgressBar() {
      const progress = (flipcards.length - remainingFlipcards.length) / flipcards.length * 100;
      progressBarFill.style.width = `${progress}%`;
    }
  </script>
</body>
</html>